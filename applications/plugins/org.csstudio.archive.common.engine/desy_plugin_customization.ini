# Default Engine Preferences
#
# At the SNS, a copy of this file with the actual RDB user/password etc
# is used, which is not in CVS to prevent publication of that information.
#
# @author Kay Kasemir

# Archive Engine
# See preferences.ini in org.csstudio.archive.common.engine plugin,
# then maybe override settings in here like this:
# BKNERR CHANGES
org.csstudio.archive.common.engine/auto_commit=true
org.csstudio.archive.common.engine/write_period=5
org.csstudio.archive.common.engine/batch_size=1000
org.csstudio.archive.common.engine/log_overrun=1.0
org.csstudio.archive.common.engine/log_trouble_samples=11.0
org.csstudio.archive.common.engine/buffer_reserve=2.0

# Archive RDB Access
# See preferences.ini in org.csstudio.archive.rdb,
# then maybe override settings in here
#
# BKNERR CHANGES (Hannahs PC with the database)
org.csstudio.archive.common.service.mysqlimpl/url=jdbc:mysql://krynfsc.desy.de:3306/archive?user=desyArchiver&password=archive
org.csstudio.archive.common.service.mysqlimpl/failoverUrl=jdbc:mysql://krykpcgasta.desy.de:3306/archive?user=desyArchiver&password=archive

#
# BKNERR CHANGES
org.csstudio.archive.common.service.mysqlimpl/user=desyArchiver
org.csstudio.archive.common.service.mysqlimpl/password=archive

# Channel Access
org.csstudio.platform.libs.epics/use_pure_java=false
org.csstudio.platform.libs.epics/monitor=ARCHIVE
# Office: Local and gatewayq
# BKNERR CHANGES (krykpcj with the SoftIOC and EpicsVME61)
org.csstudio.platform.libs.epics/addr_list=131.169.115.199 131.169.112.141
# Accel Network
#org.csstudio.platform.libs.epics/addr_list=172.31.75.255 172.31.127.255 172.31.83.255 172.31.91.255 172.31.67.255

# do not broadcast
org.csstudio.platform.libs.epics/auto_addr_list=false
org.csstudio.platform.libs.epics/max_array_bytes=16384

# Logging preferences
org.csstudio.platform/css_console=true
org.csstudio.platform/css_file=true
org.csstudio.platform/css_jms=true
org.csstudio.platform/log4j.appender.css_console.Threshold=INFO
org.csstudio.platform/log4j.appender.css_file.Threshold=INFO
org.csstudio.platform/log4j.appender.css_jms.Threshold=ERROR
# - Pattern. Full location and file/line info is nice, but file/line is expensive.
# No idea why, but a pattern starting with '%...' tends to have that initial
# code removed. Starting with '* ' prevents that.
org.csstudio.platform/log4j.appender.css_console.layout.ConversionPattern=* %d{ISO8601} %-5p [%t] %c{3} (%F:%L) - %m%n
org.csstudio.platform/log4j.appender.css_file.layout.ConversionPattern=* %d{ISO8601} %-5p [%t] %c{3} (%F:%L) - %m%n
# JMS Message already contains date/time and Level (Severity)
org.csstudio.platform/log4j.appender.css_jms.layout.ConversionPattern=* %m%n [%t, %F\:%L] 

# - File is created relative to current user dir. when starting CSS,
# which might be unpredictable.
# ${user.home}/... gives a known location, but can cause trouble with
# multiple instances.
# ${eclipse.startTime} could be added to get separate files.
# ${user.dir} should be set before running the application by 'cd'ing there!
org.csstudio.platform/log4j.appender.css_file.File=${user.dir}/engine.log
org.csstudio.platform/log4j.appender.css_file.MaxFileSize=100MB
org.csstudio.platform/log4j.appender.css_file.MaxBackupIndex=2
# JMS Hosts: First the office server, then the accel network one
# BKNERR CHANGES
# org.csstudio.platform/log4j.appender.css_jms.providerURL=failover\:(tcp\://ics-srv02.sns.ornl.gov\:61616,tcp\://ics-srv-epics1.ics.sns.gov\:61616)
org.csstudio.platform/log4j.appender.css_jms.providerURL=failover\:(krykjmsb.desy.de\:64616,tcp\://krykjmsa.desy.de\:62616)?maxReconnectDelay\=5000

#
# IDE sometimes adds stuff below this line...
#
org.eclipse.ui/SHOW_PROGRESS_ON_STARTUP = false
