<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=Cp1252"/>
    <link rel="stylesheet" href="default.css" type="text/css" />
    <title>
    Macro
    </title>
  </head>
  <body>

    <h2>
       Macro       
    </h2>
    <p>Macros are some predefined strings that can be
     embedded in any string based properties such as "PV Name", "Text", "Tooltip", 
     "Scripts" and so on. Macro will be replaced with its string value at Runtime.</p>
     <h3>Format</h3>
     <p>
     The macro format can be either <b>$(macro_name)</b> or <b>${macro_name}</b>
     </p>
     <p>
There are two types of macros:
</p>
<h3>
Predefined Symbol Macro</h3>
<p>It could be defined in the preference page of BOY
 (open it from menu: <b>CSS->Preferences...->CSS Applications->Display->BOY</b>) or 
 the <b>Macros</b> property of container widgets: Display, Grouping Container and Linking Container.
 <br>For example: If there is a macro "1=one", the text "$(1)_two_three" will be replaced to "one_two_three" in run mode.
 <p><b><font color="red">Attention</font></b>: Macro name only allows letters and numbers (should not start with number).
   
</p> 
<h3>Widget Property Value Macro</h3>
<p>This allows you access the value of a property of the widget in run mode. In this case, the macro_name is the property id of the widget property. For example, $(pv_name), $(pv_value), $(forground_color)...
<br>A good example of Widget Property Value Macro is the tooltip: A tooltip of "$(pv_name)$(pv_value)" will display the PV Name and its value in run mode.  
</p>
<p><img src="img/tooltip.png"></p>
  
<h3>System Macro</h3>
<p>These macros are predefined in code. Here are two macros available: </p>
<ul>
	<li><code>$(DID)</code>: The unique ID for each display. Even if there are
	 multiple displays refering tho the same OPI file,  each display still has an unique ID.
	 This macro is useful for avoiding 
	name conflict. For example, if we add a prefix of <code>$(DID)_</code> to a local PV name, we can easily 
	guarantee the PV name is unique to this display. </li>
</ul>
<ul><li><code>$(DNAME)</code>: The name of the display.</li></ul>

</p>  
  
</body>
</html>
